'use client'

import { FC, useMemo, useRef, useState } from 'react'
import classNames from 'classnames'

import styles from './reviews.module.scss'
import { ReviewsProps } from './reviews.types'
import ReviewImageModal from './reviewImageModal'

function Arrow({ dir }: { dir: 'left' | 'right' }) {
  const rotate = dir === 'left' ? 180 : 0
  return (
    <svg className={styles.btnIcon} viewBox="0 0 24 24" aria-hidden="true" style={{ transform: `rotate(${rotate}deg)` }}>
      <path d="M7 17L17 7" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
      <path d="M9 7h8v8" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
    </svg>
  )
}

function Star({ filled }: { filled: boolean }) {
  return (
    <svg className={styles.star} viewBox="0 0 24 24" aria-hidden="true">
      <path
        d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.77 5.82 22 7 14.14 2 9.27l6.91-1.01L12 2z"
        fill={filled ? 'currentColor' : 'none'}
        stroke="currentColor"
        strokeWidth="1.6"
        strokeLinejoin="round"
      />
    </svg>
  )
}

const Reviews: FC<ReviewsProps> = ({
  className,
  title = <>–û—Ç–∑—ã–≤—ã</>,
  subtitle = <>–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –æ—Ç–∑—ã–≤–æ–≤ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤.</>,
  items,
}) => {
  const rootClassName = classNames(styles.root, className)
  const trackRef = useRef<HTMLDivElement | null>(null)
  const [selectedReview, setSelectedReview] = useState<{ imageSrc?: string; imageAlt?: string } | null>(null)

  const data = useMemo(() => {
    if (items?.length) return items
    return [
      {
        name: '–î–∞—à–∞ –ò–≤–∞–Ω–Ω–∏–∫–æ–≤–∞',
        service: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞',
        rating: 5 as const,
        text: <>–û–≥—Ä–æ–º–Ω–æ–µ —Å–ø–∞—Å–∏–±–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é. –°–ø–∞—Å–ª–∏ –æ—Ç–≥—Ä—É–∑–∫—É. –í—Å–µ –ø—Ä–æ—Å—å–±—ã —É—á–ª–∏, –ø–æ–º–æ–≥–ª–∏ —Å –º–∞—Ä–∫–∏—Ä–æ–≤–∫–æ–π –∫–æ—Ä–æ–±–æ–≤, –ø—Ä–∏–≤–µ–∑–ª–∏ –ø–∞–ª–ª–µ—Ç—É. –û—Å–æ–±–∞—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –≤–æ–¥–∏—Ç–µ–ª—é, –∑–∞–≥—Ä—É–∑–∏–ª –≤—Å–µ –æ—á–µ–Ω—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, —Ö–æ—Ä–æ—à–æ –æ–±–º–æ—Ç–∞–ª –ø–ª–µ–Ω–∫–æ–π, –∞ —ç—Ç–æ –±—ã–ª–æ –≤–∞–∂–Ω–æ —Ç–∞–∫ –∫–∞–∫ –∫–æ—Ä–æ–±–∞ –æ—á–µ–Ω—å —Ç—è–∂–µ–ª—ã–µ –∏ –Ω–∞—á–∞–ª–∏ –ø—Ä–æ–º–∏–Ω–∞—Ç—å—Å—è. –ø—Ä–∏—Å–ª–∞–ª–∏ —Ñ–æ—Ç–æ –∫–∞–∫ –æ—Ç–≥—Ä—É–∑–∏–ª—Å—è. –°–æ–≤–µ—Ç—É—é –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.</>,
        imageSrc: '/images/screenreviews/1.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –î–∞—à–∞ –ò–≤–∞–Ω–Ω–∏–∫–æ–≤–∞',
      },
      {
        name: '–õ—é–¥–º–∏–ª–∞',
        service: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞',
        rating: 5 as const,
        text: <>–¶–µ–Ω–∞ –∫–∞–∫ –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å, –ø—Ä–∏–µ—Ö–∞–ª–∏ –≤ –≤–æ –≤—Ä–µ–º—è, —á—Ç–æ –±—ã–ª–æ –æ–≥–æ–≤–æ—Ä–µ–Ω–æ, –≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–º–æ–≥ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π. –î–æ–≤–æ–ª—å–Ω–∞, –Ω–∞—Ä–µ–∫–∞–Ω–∏–π –Ω–µ—Ç üåüüåüüåüüåüüåü</>,
        imageSrc: '/images/screenreviews/2.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –õ—é–¥–º–∏–ª–∞',
      },
      {
        name: '–°–∏–º–æ–Ω–æ–≤–∞ –ï–≤–≥–µ–Ω–∏—è',
        service: '–§—É–ª—Ñ–∏–ª–º–µ–Ω—Ç',
        rating: 5 as const,
        text: <>–†–∞–±–æ—Ç–∞—é —Å —ç—Ç–∏–º —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç-—Ü–µ–Ω—Ç—Ä–æ–º —É–∂–µ –ø–æ—á—Ç–∏ –≥–æ–¥, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–≤–∑–æ—à—ë–ª –æ–∂–∏–¥–∞–Ω–∏—è. –ó–∞–∫–∞–∑—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å. –û—Å–æ–±–µ–Ω–Ω–æ —Ä–∞–¥—É–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –∏ –≤–µ–∂–ª–∏–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞. –£–¥–∞–ª–æ—Å—å —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ —Å–Ω–∏–∑–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤. –°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º, —Ä–∞–∑–≤–∏–≤–∞—é—Ç –º–æ–π –±–∏–∑–Ω–µ—Å.</>,
        imageSrc: '/images/screenreviews/3.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –°–∏–º–æ–Ω–æ–≤–∞ –ï–≤–≥–µ–Ω–∏—è',
      },
      {
        name: '–Æ–ª–∏—è –ö–ª–µ–≤—Ü–µ–≤–∏—á',
        service: '–§—É–ª—Ñ–∏–ª–º–µ–Ω—Ç',
        rating: 5 as const,
        text: <>–•–æ—Ä–æ—à–∏–π —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç! –†–∞–±–æ—Ç–∞–µ–º –Ω–µ–¥–∞–≤–Ω–æ, –Ω–æ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ) –í—Å–µ –±—ã—Å—Ç—Ä–æ, –±–µ–∑ –∑–∞–º–æ—Ä–æ—á–µ–∫. –•–æ—Ä–æ—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –¥–µ–≤–æ—á–∫–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–º–æ–≥–∞—é—Ç. –ü–æ–º–æ–≥–ª–∏ –¥–∞–∂–µ —Å —á–µ—Å—Ç–Ω—ã–º –∑–Ω–∞–∫–æ–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏. –û—Ç–≥—Ä—É–∑–∫–∏ –≤–æ–≤—Ä–µ–º—è –≤—Å–µ–≥–¥–∞, –±–µ–∑ —Å—Ä—ã–≤–æ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É—é</>,
        imageSrc: '/images/screenreviews/4.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –Æ–ª–∏—è –ö–ª–µ–≤—Ü–µ–≤–∏—á',
      },
      {
        name: 'NekoNya',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–ö–ª–∞—Å—Å–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è, –æ–±—Ä–∞—â–∞–ª–∞—Å—å —Å–æ —Å–ª–æ–∂–Ω—ã–º –º–∞–∫–µ—Ç–æ–º –≤ 3 –∫–æ–º–ø–∞–Ω–∏–∏ –∏ —Å–¥–µ–ª–∞—Ç—å —Å–º–æ–≥–ª–∏ —Ç–æ–ª—å–∫–æ —Ç—É—Ç –µ—â–µ –∏ –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ, –∏ –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å, –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç—Ä—è—Å–∞—é—â–µ, –≤—Å–µ–º –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é, —Ä–µ–±—è—Ç–∞–º –æ–≥—Ä–æ–º–Ω–æ–µ —Å–ø–∞—Å–∏–±–æ –∏ –ø—Ä–æ—Ü–≤–µ—Ç–∞–Ω–∏—èüëç</>,
        imageSrc: '/images/screenreviews/5.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç NekoNya',
      },
      {
        name: '–î–º–∏—Ç—Ä–∏–π –ú–æ—Å—Å–∞–∫–æ–≤—Å–∫–∏–π',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–û–±—Ä–∞—Ç–∏–ª—Å—è –∫ —Ä–µ–±—è—Ç–∞–º –∑–∞ –ø–∞—Ä—É –¥–Ω–µ–π –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞! –ù–µ –æ—Ç–∫–∞–∑–∞–ª–∏, —Ä–∞–±–æ—Ç–∞–ª–∏ –∫—Ä—É–≥–ª—ã–µ —Å—É—Ç–∫–∏, —É—Å–ø–µ–ª–∏ –≤—Å–µ –≤ —Å—Ä–æ–∫, –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ò–ª—å—è, –≤—Å–µ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–±—ä—è—Å–Ω–∏–ª –∏ —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–ª –∫–∞–∂–¥—ã–π —à–∞–≥! –û—Ç–ø—Ä–∞–≤–∏–ª–∏ –∫—É—Ä—å–µ—Ä–æ–º –ø—Ä—è–º–æ –∫–æ –º–Ω–µ –¥–æ–º–æ–π! –ö–∞—á–µ—Å—Ç–≤–æ –æ—á–µ–Ω—å –ø–æ—Ä–∞–¥–æ–≤–∞–ª–æ! –°–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ! –ë—É–¥—É –æ–±—Ä–∞—â–∞—Ç—å—Å—è –µ—â–µ!</>,
        imageSrc: '/images/screenreviews/6.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –î–º–∏—Ç—Ä–∏–π –ú–æ—Å—Å–∞–∫–æ–≤—Å–∫–∏–π',
      },
      {
        name: '–ò–Ω–∫–æ–≥–Ω–∏—Ç–æ 4928',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–¢–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ. –†–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ —Å—Ä–æ—á–Ω—ã–π –∑–∞–∫–∞–∑ –ø–æ –ø–µ—á–∞—Ç–∏ 220 —Ñ—É—Ç–±–æ–ª–æ–∫ –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 2 –¥–Ω—è. –ß–µ—Ç–∫–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö –∑–∞–¥–∞–Ω–∏—é. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, –∑–∞–¥–∞—é—Ç –≤–æ–ø—Ä–æ—Å—ã. –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ–≤–ª–µ—á–µ–Ω—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å</>,
        imageSrc: '/images/screenreviews/7.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –ò–Ω–∫–æ–≥–Ω–∏—Ç–æ 4928',
      },
      {
        name: 'dora.filatovva',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–í—Å—ë —Å—É–ø–µ—Ä! –î–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å –æ –ø–µ—á–∞—Ç–∏, —Å–¥–µ–ª–∞–ª–∏ –≤—Å—ë –±—ã—Å—Ç—Ä–æ –∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ (–º–µ–Ω—å—à–µ —á–µ–º –∑–∞ —Å—É—Ç–∫–∏) —Å–¥–µ–ª–∞–ª–∏ —Ñ—É—Ç–±–æ–ª–∫—É —Å –∂–µ–ª–∞–µ–º—ã–º –ø—Ä–∏–Ω—Ç–æ–º</>,
        imageSrc: '/images/screenreviews/8.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç dora.filatovva',
      },
      {
        name: 'alex-balakireva',
        service: '–§—É–ª—Ñ–∏–ª–º–µ–Ω—Ç',
        rating: 5 as const,
        text: <>–í —Ü–µ–ª–æ–º –¥–æ–≤–æ–ª—å–Ω—ã —Ä–∞–±–æ—Ç–æ–π —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç–∞: –∑–∞–∫–∞–∑—ã —É–ø–∞–∫–æ–≤—ã–≤–∞—é—Ç—Å—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, —Å—Ä–æ–∫–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è. –ë—ã–ª–∏ –µ–¥–∏–Ω–∏—á–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ –ø–∏–∫–æ–≤—ã–µ –¥–Ω–∏, –Ω–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–µ—à–∞–ª–∏—Å—å. –•–æ—Ä–æ—à–∏–π —Å–µ—Ä–≤–∏—Å –∑–∞ –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–µ –¥–µ–Ω—å–≥–∏</>,
        imageSrc: '/images/screenreviews/9.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç alex-balakireva',
      },
      {
        name: '–°–∞—à–∞ –§.',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–û—á–µ–Ω—å –¥–æ–≤–æ–ª—å–Ω–∞ —Ä–∞–±–æ—Ç–æ–π –¥–∞–Ω–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –≤—Å–µ–≥–¥–∞ –ø–æ–º–æ–≥–∞—é—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—à–∏ –∑–∞–∫–∞–∑—ã –≤ —Å—É–ø–µ—Ä —Å–∂–∞—Ç—ã–µ —Å—Ä–æ–∫–∏! –í—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—ã–ª–∞—é—Ç —Ñ–æ—Ç–æ –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ, —á—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ!</>,
        imageSrc: '/images/screenreviews/10.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –°–∞—à–∞ –§.',
      },
      {
        name: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–û—Ç–∫—Ä—ã–ª–∞ –¥–ª—è —Å–µ–±—è —à–∏–∫–∞—Ä–Ω–æ–µ –º–µ—Å—Ç–æ! –û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å, –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—á–∞—Ç–∏ —Å—É–ø–µ—Ä! –°—Ä–æ—á–Ω–æ –Ω–∞–¥–æ –±—ã–ª–æ –Ω–∞–Ω–µ—Å—Ç–∏ –ø—Ä–∏–Ω—Ç –Ω–∞ —Ñ—É—Ç–±–æ–ª–∫—É - —Ç–∞–∫ —Å–º–æ–≥–ª–∏ –ø—Ä–∏–Ω—è—Ç—å —á–µ—Ä–µ–∑ —á–∞—Å –ø–æ—Å–ª–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –µ—â—ë –∏ —Ñ—É—Ç–±–æ–ª–∫–∞ —Å–∞–º–∞ –≤ –Ω–∞–ª–∏—á–∏–∏ –Ω–∞—à–ª–∞—Å—å! –°–ø–∞—Å–∏–±–æ!</>,
        imageSrc: '/images/screenreviews/11.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞',
      },
      {
        name: '–õ–∏–Ω–∞ –ó–∏–º–º',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–ù—É –∫—Ä–∞—Å–∞–≤—á–∏–∫–∏, —Å—Ä–æ—á–Ω—ã–π –º–∞–∫–µ—Ç –∏ –ø–µ—á–∞—Ç—å 2000 —à—Ç—É–∫ –∑–∞ 12 —á–∞—Å–æ–≤! –°–ø–∞—Å–ª–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ, –±–µ–∑ –≤–∞—Å –±—ã –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ —Å—É–≤–µ–Ω–∏—Ä–æ–≤.</>,
        imageSrc: '/images/screenreviews/12.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –õ–∏–Ω–∞ –ó–∏–º–º',
      },
      {
        name: '–ú–∏—Ö–∞–∏–ª –ó.',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–î–µ–ª–∞–ª —Å—Ä–æ—á–Ω—É—é –ø–µ—á–∞—Ç—å –Ω–∞ —Ñ—É—Ç–±–æ–ª–∫–∞—Ö –¥–ª—è –º–∞–ª—å—á–∏—à–Ω–∏–∫–∞, –≤—Å—ë –±—ã—Å—Ç—Ä–æ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, —Å–ø–∞—Å–∏–±–æ!</>,
        imageSrc: '/images/screenreviews/13.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –ú–∏—Ö–∞–∏–ª –ó.',
      },
      {
        name: '–≠–ª–ª–∞ –ü–∞–≤–ª–æ–≤–∞',
        service: '–§—É–ª—Ñ–∏–ª–º–µ–Ω—Ç',
        rating: 5 as const,
        text: <>–†–∞–±–æ—Ç–∞—é —Å —Ä–µ–±—è—Ç–∞–º–∏ —É–∂–µ 4-—Ä–µ –≥–æ–¥–∞. –≠—Ç–æ –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ –≥–æ–≤–æ—Ä–∏—Ç –æ –º–Ω–æ–≥–æ–º! –†–∞–±–æ—Ç–æ–π —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç–∞ –æ—á–µ–Ω—å –¥–æ–≤–æ–ª—å–Ω–∞: —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç—Å—è –≤—Å–µ –±—ã—Å—Ç—Ä–æ, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –∏ –±–µ–∑–æ—à–∏–±–æ—á–Ω–æ. –í—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –ø–æ –ª—é–±–æ–º—É –≤–æ–ø—Ä–æ—Å—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Å—Ç–∞–≤—è—Ç –±–µ–∑ –≤–Ω–∏–º–∞–Ω–∏—è. –î–∞–∂–µ –≤ —Å–∞–º—É—é –∑–∞–ø–∞—Ä–∫—É —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ –∏ —á–µ—Å—Ç–Ω—ã–º –∑–Ω–∞–∫–æ–º –æ–∫–∞–∑–∞–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É. –ò —Å–µ–π—á–∞—Å –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–∞–∫–∏–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–∞–¥–µ—é—Å—å –Ω–∞ –∏—Ö –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—é. –û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ —Å–æ–≤–µ—Ç—É—é —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞—Ç—å.</>,
        imageSrc: '/images/screenreviews/14.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –≠–ª–ª–∞ –ü–∞–≤–ª–æ–≤–∞',
      },
      {
        name: '–ò–ª—å—è –ü.',
        service: '–§—É–ª—Ñ–∏–ª–º–µ–Ω—Ç',
        rating: 5 as const,
        text: <>–•–æ—Ä–æ—à–∏–π —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç! –í—Å–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –∏ –≥–∏–±–∫–æ. –ü–æ–º–æ–≥—É—Ç –∏ –ø–æ–¥—Å–∫–∞–∂—É—Ç –ø–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º.</>,
        imageSrc: '/images/screenreviews/15.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –ò–ª—å—è –ü.',
      },
      {
        name: '–ï–≤–≥–µ–Ω–∏–π',
        service: '–§—É–ª—Ñ–∏–ª–º–µ–Ω—Ç',
        rating: 5 as const,
        text: <>–†–µ–±—è—Ç–∞ –º–æ–≥—É—Ç, —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞–µ–º —Å 21 –≥–æ–¥–∞. –°—Ç–∞–±–∏–ª—å–Ω–æ, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, –¥–æ—Å—Ç—É–ø–Ω–æ</>,
        imageSrc: '/images/screenreviews/16.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –ï–≤–≥–µ–Ω–∏–π',
      },
      {
        name: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –Æ.',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–∫–ª–∞—Å—Å–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è, —Å–¥–µ–ª–∞–ª–∏ –≤—Å–µ –±—ã—Å—Ç—Ä–æ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, –æ—á–µ–Ω—å –≤–µ–∂–ª–∏–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ªüî•üî•üî•</>,
        imageSrc: '/images/screenreviews/17.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –Æ.',
      },
      {
        name: 'kiyaho',
        service: '–ü–µ—á–∞—Ç—å',
        rating: 5 as const,
        text: <>–ö–∞—á–µ—Å—Ç–≤–µ –ø–µ—á–∞—Ç–∏ –ª—É—á—à–µ–µ —á—Ç–æ –≤–∏–¥–µ–ª! –†–µ–±—è—Ç–∞ –≤—Å–µ –¥–µ–ª–∞—é—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ. –†–µ–∫–æ–º–µ–Ω–¥—É—é</>,
        imageSrc: '/images/screenreviews/18.jpg',
        imageAlt: '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç kiyaho',
      },
    ]
  }, [items])

  const scrollByCard = (dir: 'left' | 'right') => {
    const el = trackRef.current
    if (!el) return
    const first = el.querySelector<HTMLElement>(`.${styles.card}`)
    const delta = (first?.offsetWidth ?? 320) + 1
    el.scrollBy({ left: dir === 'left' ? -delta : delta, top: 0, behavior: 'auto' })
  }

  return (
    <>
      <ReviewImageModal
        open={!!selectedReview}
        onClose={() => setSelectedReview(null)}
        imageSrc={selectedReview?.imageSrc}
        imageAlt={selectedReview?.imageAlt}
      />
      <section className={rootClassName} aria-label="–û—Ç–∑—ã–≤—ã">
        <div className={styles.header}>
          <div>
            <h2 className={styles.title}>{title}</h2>
            <p className={styles.subtitle}>{subtitle}</p>
          </div>
          <div className={styles.controls} aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –æ—Ç–∑—ã–≤–∞–º">
            <button type="button" className={styles.btn} onClick={() => scrollByCard('left')} aria-label="–ù–∞–∑–∞–¥">
              <Arrow dir="left" />
            </button>
            <button type="button" className={styles.btn} onClick={() => scrollByCard('right')} aria-label="–í–ø–µ—Ä—ë–¥">
              <Arrow dir="right" />
            </button>
          </div>
        </div>

        <div className={styles.frame}>
          <div className={styles.track} ref={trackRef}>
            {data.map((r, idx) => {
              const rating = r.rating ?? 5
              const imageSrc = 'imageSrc' in r ? r.imageSrc : undefined
              const imageAlt = 'imageAlt' in r ? r.imageAlt : undefined
              const hasImage = !!imageSrc

              return (
                <article key={`${r.name}-${idx}`} className={styles.card}>
                  <div className={styles.topline}>
                    <div className={styles.who}>
                      <div className={styles.name}>{r.name}</div>
                      {r.service && <div className={styles.meta}>{r.service}</div>}
                    </div>
                    <div className={styles.rating} aria-label={`–û—Ü–µ–Ω–∫–∞ ${rating} –∏–∑ 5`}>
                      {Array.from({ length: 5 }).map((_, i) => (
                        <Star key={i} filled={i < rating} />
                      ))}
                    </div>
                  </div>
                  <div className={styles.text}>{r.text}</div>
                  {hasImage && (
                    <button
                      type="button"
                      className={styles.viewButton}
                      onClick={() => setSelectedReview({
                        imageSrc: imageSrc!,
                        imageAlt: imageAlt || `–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–∑—ã–≤–∞ –æ—Ç ${r.name}`
                      })}
                      aria-label={`–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –æ—Ç–∑—ã–≤–∞ –æ—Ç ${r.name}`}
                    >
                      –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–æ—Ç–æ
                    </button>
                  )}
                </article>
              )
            })}
          </div>
        </div>
      </section>
    </>
  )
}

export default Reviews
